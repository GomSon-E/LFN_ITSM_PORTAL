<style>
/* .loginForm { 
    max-width: 400px;
    max-height: 400px;
    margin-left:120px;
    margin-top: 20px;
} */
@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css");

* {
  box-sizing: border-box;
}
body {
  font-family: "Montserrat", sans-serif;
  margin: 0;
  padding: 0;
}
.wrapper {
  /* width: 100%; */
  height: 80vh;
  width: 163vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background:  #1e79e128;
  overflow: hidden;
  margin-top: 100px;
}
.container {
  border-radius: 10px;
  box-shadow: -5px -5px 10px #fff, 5px 5px 10px #babebc;
  position: absolute;
  width: 768px;
  min-height: 480px;
  overflow: hidden;
}
form {
  background: #ebecf0;
  display: flex;
  flex-direction: column;
  padding: 0 50px;
  height: 100%;
  justify-content: center;
  align-items: center;
}
form input {
  background: #eee;
  padding: 16px;
  margin: 8px 0;
  width: 85%;
  border: 0;
  outline: none;
  border-radius: 20px;
  box-shadow: inset 7px 2px 10px #babebc, inset -5px -5px 12px #fff;
}
button {
  border-radius: 20px;
  border: none;
  outline: none;
  font-size: 12px;
  font-weight: bold;
  padding: 15px 45px;
  margin: 14px;
  letter-spacing: 1px;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform 80ms ease-in;
}
.form_btn {
  box-shadow: -5px -5px 10px #fff, 5px 5px 8px #babebc;
}
.form_btn:active {
  box-shadow: inset 1px 1px 2px #babebc, inset -1px -1px 2px #fff;
}
.overlay_btn {
  background-color: #1e7ae1;
  color: #fff;
  box-shadow: -5px -5px 10px  #000000, 5px 5px 8px  #656769;
}
.sign-in-container {
  position: absolute;
  left: 0;
  width: 50%;
  height: 100%;
  transition: all 0.5s;
}
.sign-up-container {
  position: absolute;
  left: 0;
  width: 50%;
  height: 100%;
  opacity: 0;
  transition: all 0.5s;
}
.overlay-left {
  display: flex;
  flex-direction: column;
  padding: 0 50px;
  justify-content: center;
  align-items: center;
  position: absolute;
  right: 0;
  width: 50%;
  height: 100%;
  opacity: 0;
  background-color: #ff4b2b;
  color: #fff;
  transition: all 0.5s;
}
.overlay-right {
  display: flex;
  flex-direction: column;
  padding: 0 50px;
  justify-content: center;
  align-items: center;
  position: absolute;
  right: 0;
  width: 50%;
  height: 100%;
  background-color: #1e7ae1;
  color: #fff;
  transition: all 0.5s;
}
.container.right-panel-active .sign-in-container {
  transform: translateX(100%);
  opacity: 0;
}
.container.right-panel-active .sign-up-container {
  transform: translateX(100%);
  opacity: 1;
  z-index: 2;
}
.container.right-panel-active .overlay-right {
  transform: translateX(-100%);
  opacity: 0;
}
.container.right-panel-active .overlay-left {
  transform: translateX(-100%);
  opacity: 1;
  z-index: 2;
}
.social-links {
  margin: 20px 0;
}
form h1 {
  font-weight: bold;
  margin: 0;
  color: #000;
}

p {
  font-size: 16px;
  font-weight: bold;
  letter-spacing: 0.5px;
  margin: 20px 0 30px;
}
span {
  font-size: 12px;
  color: #000;
  letter-spacing: 0.5px;
  margin-bottom: 10px;
}
.social-links div {
  width: 40px;
  height: 40px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  margin: 0 5px;
  border-radius: 50%;
  box-shadow: -5px -5px 10px #fff, 5px 5px 8px #babebc;
  cursor: pointer;
}
.social-links a {
  color: #000;
}
.social-links div:active {
  box-shadow: inset 1px 1px 2px #babebc, inset -1px -1px 2px #fff;
}
</style>

<!-- HTML autogen start ---------------------------------------------- -->   
<div class="wrapper">
<div id="login">
        <div class="loginForm">
            <img src="./images/CI.jpg">
            <div id="frmLogin">
                <p class="message">환영합니다. 로그인 해 주세요</p>
                <div><input type="text" id="userid" placeholder="로그인 계정(사번)"></div>
                <div><input type="password" id="loginpwd" placeholder="비밀번호"></div>
                <div><input type="checkbox" id="idSaveCheck">아이디 저장</div>
            </div> 
            <button><i class="fas fa-key" aria-hidden="true"></i> L o g i n </button>
        </div>
        <div style="max-width:40em;font-size: 1em;margin-top:1em">
    </div>
</div>
    <!-- <div id='pwdclearform'>
        <p>이메일을 입력하면 암호초기화Key가 발송됩니다.</p>
        <label>이메일</label>
        <input type='email' name='email'/>
        <button>암호변경 메일발송</button>
    </div> -->

<!-- ------------------------------------------------- -->
<!-- <div id="login">
    <div class="container">
    <div class="loginForm">
      <div class="sign-in-container">
        <form>
          <div id="frmLogin">
            <div><input type="text" id="userid" placeholder="로그인 계정(사번)"></div>
            <div><input type="password" id="loginpwd" placeholder="비밀번호"></div>
            <h9>아이디 저장</h9>
            <div><input type="checkbox" id="idSaveCheck"></div>
        </div> 
        </form>
      </div>
      <div class="overlay-container">
        <div class="overlay-right">
            <h1>LOGIN</h1>
            <p class="message">환영합니다. 로그인 해 주세요</p>
            <button id="signUp" class="overlay_btn">로그인</button>
          </div>
      
    </div> -->
<!-- ------------------------------------------------- -->
<!-- 암복호화 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<!-- 복호화 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<!-- 기존 암호화 -->
    <script	src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
    <script type="text/javascript" src="/lib/jquery/core.min.js"></script>
    <script type="text/javascript" src="/lib/jquery/sha256.min.js"></script>  
<!-- HTML autogen end ---------------------------------------------- -->
<script>
/*-- SCRIPT autogen start ---------------------------------------------- */        
$(function() {
    var appid = "aweportal";
    var pgmid = "login"; 
    var page = $("*[pgmid='"+pgmid+"'].framepage").last();
    var pageid = page.attr("id"); 
    var me = {}
    var dataSet = {};
    var dataDef = {};
    var pageObj = {};
    var bEdit = false;
    me.fnInit = function() {
        gfn[pageid] = me; 
        me.appid    = appid;
        me.pgmid    = pgmid;
        me.pageid   = pageid;
        me.page     = page; 
        me.dataSet = dataSet;
        me.dataDef = dataDef;
        me.pageObj = pageObj;
        me.bEdit = bEdit;
me.dataDef["_pgm"]={"ver":1.8,"upd_dt":"2022-09-27 08:37:59","remark":"","pgmid":"login","proc_mst_id":"","pgm_stat":"Y","sort_seq":91,"app_pgmid":"aweportal","shortcut":"","reg_dt":"2022-09-04 20:55:28","reg_usid":"kihyunlee","pgm_nm":"로그인","upd_usid":"kihyunlee","pgm_tp":"TX","pgm_grp_nm":"공통","proc_mst_nm":"","app_pgm_nm":"FO Portal","":"트랜젝션(화면)","crud":""};
me.dataDef["_pgm_func"]=[];
me.dataDef["_pgm_data"] = {};

        me.pageObj["_page"] = new gfnFramepage( me ); 
        for(var component_id in me.dataDef["_pgm_data"]) { 
            me.pageObj[component_id] = new gfnComponent( me.pageid, component_id, me.dataDef["_pgm_data"][component_id], me.fnEH, me); 
        }  
        setTimeout(function(){
            $("#frameset").scrollTo(0); //스크롤 
        },10);
        if(typeof(me.fnInitExtra)=='function') me.fnInitExtra(); 
    } 
/*-- SCRIPT autogen end ---------------------------------------------- */

    /* 사용자초기화 */
    me.fnInitExtra=function() {
        page = $("*[pgmid='login']");
        //쿠키 아이디 세팅
        var userInputId = getCookie("userid");
        var userCdCompany = getCookie("cd_company");
        $("#userid").val(userInputId);
        $("#cd_company").val(userCdCompany);
        
        if(userInputId != "") { // 그 전에 ID를 저장해서 처음 페이지 로딩 시, 입력 칸에 저장된 ID가 표시된 상태라면,
            $("#idSaveCheck").attr("checked", true); // ID 저장하기를 체크 상태로 두기.
        }	    
        $("#userid").select();

        //event-handler
        page.on("change click keyup",function(e) {
            var oE = $(e.target);
            gDebug = oE;
            //뭐든 바뀌었을대 idSaveCheck 체크여부에 따라  
            if($("#idSaveCheck").is(":checked")){ // ID 저장하기 체크했을 때,
                var userInputId = $("#userid").val();
                setCookie("userid", userInputId, 7); // 7일 동안 쿠키 보관
                var userCdCompany = getCookie("cd_company");
                setCookie("cd_company", userCdCompany, 7); // 7일 동안 쿠키 보관
            }else{ // ID 저장하기 체크 해제 시,
                deleteCookie("userid");
                deleteCookie("cd_company");
            }

            //버튼클릭
            if(oE.isON(".loginForm button")) me.fnLogin(); 
            else if(oE.is("#loginpwd") && e.keyCode==13 && $("#loginpwd").val() != "") me.fnLogin();
            else if(oE.is("#pwdclear")) me.fnPwdclear();
        });  
    }
    /* 이벤트핸들러 */
    me.fnEH=function(component, evt, row, col, val) { 
        //console.log(evt+","+row+","+col+","+val);
        //화면기능버튼이 눌리면 
        if (component==me.pageObj["_pageFunc"]){ 
            if(typeof(me[col])=='function') me[col](); //col=기능명 me["fnSearch"]()=me.fnSearch(); 
        }
        //사용자 컴포넌트/컨트롤
        else if(component.userComponent=="myCompoId") {
            //if(evt=="dblclick" && col=="colid") {...}
        }
    }
    //암호화
    me.fnLogin= function() { 
        //로그인 시 콘솔창이나 세션에 패스워드 보이지 않도록 암호화 
        var args = {userid:$("#userid").val(), loginpwd:CryptoJS.SHA256($("#loginpwd").val()).toString()};
        var invar = JSON.stringify(args);
        console.dir( "fnLogin"+":"+ invar );
        gfnTx("aweportal.login","loginCheck",{INVAR:invar},function(OUTVAR){ 
            if(OUTVAR.rtnCd=="OK") {
                gUserinfo = OUTVAR.userinfo;
                gUserinfo.temp_pwd = OUTVAR.list[0].temp_yn; //"Y"
                if(gUserinfo.temp_pwd=="Y") {
                    gfnAlert("알림","비밀번호를 변경해주세요"); 
                }
                var oFrameset = $("<div></div>"); 
                gfnLoad("aweportal","frameset",oFrameset,function(OUTVAR){ 
                    $("body").html( oFrameset.html() );
                },true);  
            } else {
                var msg = OUTVAR.rtnMsg; 
                $(".message").text(msg).addClass("ui-state-error");
            }
        },true);	
    }
    
    
    
    

/*-- SCRIPT autogen ---------------------------------------------------- */        
if(typeof(me.fnInit)=='function') me.fnInit();
});

</script>