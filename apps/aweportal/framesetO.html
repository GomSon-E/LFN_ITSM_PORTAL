<!-- tinyMCE 사용을 위한 스크립트 추가 -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdn.tiny.cloud/1/d150u0g21azfsd5gx41u1ix2gkle25siousm8a7g6ij1z2h0/tinymce/5/tinymce.min.js"></script>
	<style>
		.list {
			display: none;
			margin : 0 auto;
			height: 50px;
			line-height: 25px;
		}
		.list-item {
			float : left;
			text-align : center;
		}
		.list-item li{
			display: block;
			color: hsl(0, 100%, 100%);
			text-align: center;
			list-style: none;
			width: 24%;
			height: 30px;
			float: left;
			cursor: pointer;
		}
		.list-item li:hover{
			background-color: hsl(207, 100%, 78%);
		}
	</style>
</head>
<header id="frameGNB" class="float">
	<div class="gnb">
		<img class="CI" src="/images/fashionERP.png"/>
		<nav class="frameBtnSet A" style="width:calc( 100% - 10em );">
			<button class="apps"><i class="fas fa-th"></i><span>Apps</span></button>
			<button class="search"><i class="fas fa-search"></i><span>Search</span></button>
			<button class="notice"><i class="fas fa-comment-dots"></i><span>Notice</span></button>
			<button class="user"><i class="fas fa-user-circle"></i><span>User</span></button>
		</nav>
		
	</div>
	<div class="list" id="drop" style=" width:calc(100% - 10em);">
		<ul class="list-item" style="width: 100%; padding-left: 15px;">
			<li class="profile">프로필 관리</li>
			<li class="changePwd">비밀번호변경</li>
			<li class="withdrawlUser">회원탈퇴</li>
			<li class="logout">로그아웃</li>
		</ul>
	</div>
</header>
<div id="frameset">
	<aside id="frameLeft">
		<div class="frameBtnSet C">
			<!-- button class="btnFloat"><i class="fas fa-thumbtack"></i>Float/Dock</button -->
			<button class="btnHide"><i class="fas fa-caret-square-left"></i><span>Hide</span></button>
			<button class="btnShow hidden"><i class="fas fa-caret-square-right"></i><span>Show</span></button>
		</div>
		<div class="appMenu">
			<H3>My Apps</H3>
			<div id="frameTab" class="APP"></div>
		</div>
		<div class="grp">
			<div class="grpGroup">
				<H3>My Groups</H3>
				<ul class="ORG"></ul>
			</div>
			<div class="grpCafe">
				<H3>My Cafe
				<button id="cafeMore" class="cafeMore" value="카페리스트">more</button></H3>
				<ul class="CAFE"></ul>
			</div>
			<div class="grpChat">
			</div>
		</div>
	</aside>
	<main id="frameMain">
		<button class="btnShow"><i class="fas fa-caret-square-right"></i><span></span></button>
	</main>
	<aside id="frameRight" class="rightMini" >
		<div class="frameBtnSet C">
			<!-- button class="btnFloat"><i class="fas fa-thumbtack"></i>Float/Dock</button -->
			<button class="btnHide hidden"><i class="fas fa-caret-square-right"></i><span>Hide</span></button>
			<button class="btnShow"><i class="fas fa-caret-square-left"></i><span>Show</span></button>
		</div>
		<div class="info" style="display:none;">
			<H3>History</H3>
			<ul class="history">
				<li>좋아요!: 퍼갈께요~ <b>candy</b><span>2021-06-18 18:57:21</span></li>
				<li>공유됨 <b>You</b><span>2021-06-18 18:55:21</span></li>
				<li>수정됨: 제목변경 <b>airjaws</b><span>2021-06-18 18:55:11</span></li>
				<li>신규생성 <b>You</b><span>2021-06-18 18:45:11</span></li>
			</ul>
			<H3>Collabor with</H3>
			<ul class="cowork">
				<li><b>이름</b> 역할</li>
				<li><b>이름</b> 역할</li>
				<li><b>이름</b> 역할</li>
				<li><b>이름</b> 역할</li>
			</ul>
			<H3>채널별 매출</H3>
			<ul class="channelSell">
				<li>채널1 수량 금액</li>
				<li>채널2 수량 금액</li>
				<li>채널3 수량 금액</li>
			</ul>
			<H3>일별매출(최근2주)</H3>
			<ul class="storeSell">
				<li>일자1 수량 금액</li>
				<li>일자2 수량 금액</li>
				<li>일자3 수량 금액</li>
			</ul>
		</div>
	</aside>
</div>
<footer id="frameBottom" class="bottom">
	<nav class="frameBtnSet B">
		<button class="home"><i class="fas fa-home"></i><span>Home</span></button>
		<button class="prev"><i class="fas fa-arrow-left"></i><span>Back</span></button>
		<button class="next"><i class="fas fa-arrow-right"></i><span>Next</span></button>
		<button class="todo"><i class="fas fa-tasks"></i><span>To-do</span></button>
		<button class="docs"><i class="fas fa-file-alt"></i><span>Docs</span></button>
		<button class="more"><i class="fas fa-ellipsis-h"></i><span>More</span></button>
	</nav>
</footer>
<nav id="frameApp" class="aweApp hidden">
	<div class="appMenu">
		<ul class="APP"></ul>
		<div class="PGM"></div>
	</div>
	<div class="pgmMenu">
	</div>
</nav>
<search id="frameSearch" class="aweSearch hidden">
</search>
<div id="frameStatus"></div>
<div id="ruler"></div>
<script>
var wH, wW, bH, bW, fH, fW, mH, mW, rem; //화면상태 추적
$( function() {
	var appid = "aweportal";
	var pgmid = "frameset";
	var pageid = "frameset";
	var page = $("#body"); //frameset의 page는 "#body"임에 주의한다!
	var me = {
		fnInit: function() {
			gFrameset = me; //frameset에 Access할때 gFrameset사용 

			me.fnRetrieveInit(); //기초데이터로드
			me.dataSet = {};

			//event-handler : frameset에는 user이벤트가 없음(각 컴포넌트들에서 각자 처리함)
			try{
				//최초 로드시 스크롤탑 처리
				window.addEventListener('load', function(){
					setTimeout(scrollTo, 0, 0, 1);
				}, false);

				//화면이 바뀔때 사이즈정보 표시
				$(window).on("resize rotate orientationchange", me.fnFramesetLayout);

				/* 커서가 있으면 frameStatus메시지 위치를 변경한다. */
				var block = false;
				$("body").on("mouseover","#frameStatus",function(e){

					if(!block) { 
						if( $("#frameStatus").css("flex-direction") == "column-reverse" ) {
							block=true;
							$("#frameStatus").css({top:"unset",bottom:"0.5em","flex-direction":"column"});
							setTimeout(function(){ block=false},1000);
						} else {
							$("#frameStatus").css({top:"0.5em",bottom:"unset","flex-direction":"column-reverse"});
							bLock=true;
							setTimeout(function(){ block=false},1000);
						}
					}
				});

//****************** 210827 YONG START Apps Button Event******************
				//해당 DIV로 접근
				$("#frameGNB button.apps").click(function(){
					//frameMain 크기 만큼 menu를 생성 후, 적용
					var frameMainWidth = window.getComputedStyle(document.querySelector("#frameMain")).width;
					document.querySelector('#frameApp').style.width = frameMainWidth;

					gMDI.showMenu(true);
				});

				$("#frameApp").mouseleave(function(){
				 	gMDI.hideMenu();
				})

			} catch(e) {

//****************** 210830 YONG END Apps Button Event ******************
				//원본
				/* 메뉴탭 바깥에서 클릭발생시 실행중인 메뉴표시 숨기기 */
				// $(window).on("click mouseover",function(e) {
				// 	var oE = $(e.target);
				// 	if( oE.isON("#frameGNB button.apps") ) {
				// 		if ( $("#frameTab").hasClass("hidden") ) {
				// 			gMDI.showMenu(true);
				// 		}
				// 	} else if (e.type=="click") {
				// 	    if ( $("#frameTab").hasClass("hidden")==false && oE.isON("#frameTab")==false) {
				// 			gMDI.hideMenu();
				// 		}
				// 		else if ( oE.isON(".gButtonpanelBtn")==false ) {
				// 			$(".gButtonsetpanel").hide();
				// 		}
				// 	}
				// });
			// } catch(e) {
			// 	logger(pgmid,"window.load",e);
			// }

				console.error(`${pgmid} window.load : ${e}`);
			} 
		},
		fnFramesetLayout: function() {
			//프레임셋 화면크기 추적
			wH = toNum($(window).outerHeight(),0);
			wW = toNum($(window).outerWidth(),0);

			//mobile모드가 아니면 frameBottom을 frameGNB로 도킹시킨다
			var frameBottom = $("#frameBottom");
			var bottomH = 0;
			if(wW < 768) {
				$("body").addClass("mobile");
				$("#frameRight").after(frameBottom);
				frameBottom.removeClass("dock");
				frameBottom.addClass("bottom");
				bottomH = frameBottom.outerHeight();
			} else {
				$("body").removeClass("mobile");
				$("#frameGNB .CI").after(frameBottom); //docking
				frameBottom.removeClass("bottom");
				frameBottom.addClass("dock");
			}
            $("#frameset").css("margin-bottom",bottomH+"px");

			bH = toNum($("body").outerHeight(),0);
			bW = toNum($("body").outerWidth(),0);
			fH = toNum($("#frameset").outerHeight(),0);
			fW = toNum($("#frameset").outerWidth(),0);
			mH = toNum($("#frameMain").outerHeight(),0);
			mW = toNum($("#frameMain").outerWidth(),0);

			var oRem = $("#ruler");
			$("body").append(oRem);
			rem = toNum(oRem.outerHeight(),0);
			oRem.text(mW+","+mH+" / "+fW+","+fH+" / "+bW+","+bH+" / "+wW+","+wH+" ("+rem+"px/rem)");

			/* JQUERYUI HACK : window변경시 다이얼로그 닫기 */
			$("[role='dialog']").each(function(idx,el) {
				var dialogId = $(el).attr("aria-describedby");
				$("#"+dialogId).dialog("close");
			});

			/* 실행중인 메뉴표시 숨기기 */
			gMDI.hideMenu();
			$(".gButtonsetpanel").hide();
		},
		fnRetrieveInit: function() {

			//frameset 데이터로드 : 세션사용자정보를 사용하므로 args없음 
			gfnTx("aweportal.frameset","retrieveInit",{}, function(OUTVAR){ 
				if(OUTVAR.rtnCd=="OK") {
					gds.comcd         = OUTVAR.comcd;   //공통코드
					gUserinfo.defval  = OUTVAR.defval;  //사용자기본값
					gUserinfo.usergrp = OUTVAR.usergrp; //사용자그룹
					gds.menu          = OUTVAR.menu;    //권한화면목록
					gds.notice        = OUTVAR.notice;  //사용자알림
					me.fnInitMDI();
					me.fnInitFrameGNB();
					me.fnInitFrameBottom();
					me.fnFramesetLayout();
				}
			});
		},
		fnInitMDI: function() {
			//gMDI초기화
			gMDI = new gfnMDI($("#frameMain"), $("#frameTab"));

			//frameMain에 frameHome 로드
			gMDI.loadHome();

			/*
			//frameLeft 그룹 정보 바인딩 
            $.each(gUserinfo.usergrp, function(idx,row) {
				var li = $("<li></li>");
				li.text(row.grp_nick_nm);
				li.attr("title",row.grp_nm+":"+row.remark);
				li.attr("grpid",row.grpid);
				page.find(`#frameLeft .grp .${row.grp_tp}`).append(li);
			});
			
			//frameLeft 그룹 event-handler 
			page.find("#frameLeft .grp li").on("click", function(e) {
				gfnAlert("준비중","그룹열기:"+$(e.target).attr("grpid"));
			});
			*/
		    var cafePortlet = $("#frameLeft .CAFE");
            gfnLoad("aweportal","cafePortlet", cafePortlet, function(OUTVAR){
			}); 
	
			var portletChat = $("#frameLeft .grpChat");
			gfnLoad("aweportal", "portletChat", portletChat, function(OUTVAR) {
			});			

//****************** 210825 YONG START APP MENU ******************
			//중분류 및 프로그램 생성
			var showMenu = function(app_pgm_nm) {
				page.find("#frameApp .appMenu .APP .app").removeClass("selected");
				page.find("#frameApp .appMenu .APP div[app='" + app_pgm_nm + "']").addClass("selected");

				$.each(subset(gds.menu, "app_pgm_nm", app_pgm_nm), function(idx, row) {
					//idx 시작 값 0 이벤트 - 기존 APP 메뉴 대분류 제거, 새로운 APP 메뉴 대분류 생성
					if(idx == 0) {
						page.find("#frameApp .appMenu .PGM .app").remove();
						var app = $("<div></div>");
						app.addClass("app");
						app.attr("app", app_pgm_nm);
						page.find("#frameApp .appMenu .PGM").append(app);
					} 

					//hasClass() boolean - 이미 생성된 중분류가 있는지 확인 후 대분류에 append()
					if(page.find("#frameApp .appMenu .PGM .app div").hasClass(row.pgm_grp_nm) == false) {				
						var grp = $("<div></div>");
						grp.addClass(row.pgm_grp_nm);
						//grp.attr("pgmgrp", row.pgm_grp_nm);
						grp.append("<div class='pgmgrp'>" + row.pgm_grp_nm + "</div>")
						grp.append("<ul class='box'></ul>")
						//grp.text(row.pgm_grp_nm);
						page.find("#frameApp .appMenu .PGM .app").append(grp);
					}

					//subset()으로 분류된 요소를 each() 반복 - row를 통해 program 정보를 해당 중분류에 append()
					var pgm = $("<li></li>");
					pgm.addClass("pgm");
				 	pgm.text(row.pgm_nm);
				 	pgm.attr("pgmid", row.pgmid);
				 	pgm.attr("pgmgrp", row.pgm_grp_nm);
					page.find("#frameApp .appMenu .PGM div[class='" + row.pgm_grp_nm + "'] .box").append(pgm);
				});
			}

			//gds.menu에서 app_pgm_nm의 중복을 제거한 app 리스트 
			var applist = extract(gds.menu, "app_pgm_nm", "distinct");
			$.each(applist, function(idx, row) {
				if(idx == 0) page.find("#frameApp .appMenu .APP .app").remove();

				//extract()로 중복 제거한 applist를 each()로 반복 - row값 idx 0인 경우만 showMenu로 전달
				var app = $("<div app='" + row + "'></div>");
				app.addClass("app")
				app.text(row);
				page.find("#frameApp .appMenu .APP").append(app);
				if(idx == 0) showMenu(row);
			});

//****************** 210827 YONG END APP MENU ******************

//****************** 210903 YONG START SEARCH MENU ******************
			var showSearch = function() {
				page.find("#frameSearch .frameSearchSet").remove();
				page.find("#frameSearch").removeClass("hidden");
				var search = $("<div></div>");
				search.addClass("frameSearchSet");
				search.append("<div><input class='searchBar' placeholder='&nbsp;LF Networks EP 통합검색'></div>");
				//search.append("<div><button>아이콘</div>");
				page.find("#frameSearch").append(search);
				page.find(".searchBar").focus();
			};

			var hideSearch = function() {
				page.find("#frameSearch").addClass("hidden");
				page.find("#frameSearch .frameSearchSet").remove();
			}
//****************** 210903 YONG END SEARCH MENU ******************
			//원본
			//frameLeft App-pgm 정보 바인딩
			// var showMenu = function(app_pgmid) {
			// 	$.each( subset(gds.menu,"app_pgmid",app_pgmid) , function(idx,row) {
			// 		if(idx==0) page.find("#frameLeft .appMenu .PGM .pgm").remove();
			// 		var pgm = $("<li class='pgm'></li>");
			// 		pgm.text(row.pgm_nm);
			// 		pgm.attr("title",row.pgm_nm +":"+ row.remark);
			// 	    pgm.attr("pgmid",row.pgmid);
			// 	    page.find("#frameLeft .appMenu .PGM").append(pgm);
			// 	});
			// }
			// var applist = extract(gds.menu,"app_pgmid","distinct");
			// $.each(applist, function(idx,row) {
			// 	if(idx==0) page.find("#frameLeft .appMenu .APP .app").remove();
			// 	var app = $("<div class='app'></div>");
			// 	app.text(row);
			// 	page.find("#frameLeft .appMenu .APP").append(app);
			// 	if(idx==0) showMenu(row);
			// });

//****************** 210827 YONG START MAKE APP MENU ******************
			//frameApp App-pgm event-handler
			page.find("#frameApp .appMenu .APP .app").on("click", function(e) {
				//Apps 을 클릭하면 하단에 pgm리스트를 표시한다.
				showMenu($(e.target).text());
			});

			//pgm 메뉴클릭시 화면 openPage
			page.find("#frameApp .appMenu .PGM").on("click", ".pgm", function(e) {
				//pgm을 클릭하면 해당 화면을 열어준다.
				var menu = $(e.target);
				//console.log(menu);//li.pgm
				var pgmid = menu.attr("pgmid");
				var pgmnm = menu.text();

				gMDI.openPage( pgmid, pgmnm );
			});

			//frameGNB Search event-handler
			page.find("#frameGNB .gnb nav .search").on("mouseover", function(e) {
				var frameGNBWidth = parseInt(window.getComputedStyle(document.querySelector("nav")).width);
				document.querySelector("#frameSearch").style.width = (frameGNBWidth - 50) + "px";
				showSearch();
			});	
			page.find("#frameSearch").on("mouseleave", function(e) {
				hideSearch();
			});
		
//****************** 210827 YONG END MAKE APP MENU ******************
			//원본
			//frameLeft App-pgm event-handler
			// page.find("#frameLeft .appMenu .APP").on("click",".app", function(e) {
			// 	//App을 클릭하면 하단에 pgm리스트를 표시한다.
			// 	showMenu($(e.target).text());
			// });

			// //My Apps 메뉴클릭시 화면 openPage
			// page.find("#frameLeft .appMenu .PGM").on("click",".pgm", function(e) {
			// 	//pgm을 클릭하면 해당 화면을 열어준다.
			// 	var menu = $(e.target);
			// 	console.log(menu);//li.pgm
			// 	var pgmid = menu.attr("pgmid");
			// 	var pgmnm = menu.text();

			// 	gMDI.openPage( pgmid, pgmnm );
			// });

			//frameLeft frameBtnSet event-handler : 숨기거나 나타나거나
			page.find("#frameLeft .frameBtnSet").on("click","button", function(e) {
				var oE = $(e.target);
				if(oE.isON(".btnHide")) {
					me.fnShowFrameLeft(false);
				}
				else if(oE.isON(".btnShow")) {
					me.fnShowFrameLeft(true);
				}
			});

			//frameMain frameBtnSet event-handler : 숨기거나 나타나거나
			page.find("#frameMain .btnShow").on("click", function(e) {
				me.fnShowFrameLeft();
			});

			//frameRight frameBtnSet event-handler : 숨기거나 나타나거나
			page.find("#frameRight .frameBtnSet").on("click","button", function(e) {
				var oE = $(e.target);
				if(oE.isON(".btnHide")) {
					page.find("#frameRight .info").hide();
					page.find("#frameRight").addClass("rightMini");
					page.find("#frameRight .frameBtnSet .btnHide").addClass("hidden");
					page.find("#frameRight .frameBtnSet .btnShow").removeClass("hidden");
				}
				else if(oE.isON(".btnShow")) {
					page.find("#frameRight .info").show();
					page.find("#frameRight").removeClass("rightMini");
					page.find("#frameRight .frameBtnSet .btnHide").removeClass("hidden");
					page.find("#frameRight .frameBtnSet .btnShow").addClass("hidden");
				}
			});

			////.grp click event-handler
			// page.find(".grp").on("click", function(e) {
			// 	var oE = $(e.target);
			// 	console.log(oE);
			// 	gMDI.openPage("frameset","p",function(OUTVAR){
			// 			//do nothing
			// 		},"aweportal");
			// });

			//frameset  event-handler : 스크롤할때
            $("#frameset").on("scroll", function(e) {
				//mobile아니면 frameLeft는 frameMain을 따라가야함(margin-top)
				if($("body").hasClass("mobile")==false) {
					var scrollTop = $("#frameset").scrollTop();
					var frameLeft = $("#frameLeft");
					if ( scrollTop < 2*rem ) { //스크롤이 충분히(2rem) 올라왔으면 마진 0
						frameLeft.css("margin-top",0);
                    } else {
						var Lmt = nzl(toNum(frameLeft.css("margin-top").replaceAll("px","")),0);
						var LH = frameLeft.outerHeight();
						var MH = $("#frameMain").outerHeight();
						if(Lmt+LH < MH && scrollTop+LH < MH) { //frameMain이 더 크다고 가정할때 왼쪽이 더 작으면
							frameLeft.css("margin-top", scrollTop+"px" ); //스크롤Top만큼 마진을 넣어줌
						}
					}
				}
				//화면크기 추적
				me.fnFramesetLayout();
			});
		},
		fnShowFrameLeft: function(bShow) {
			if(bShow==undefined) {
				if(page.find("#frameLeft").hasClass("leftMini")) bShow=true;
				else bShow = false;
			}
			if(bShow) {
				page.find("#frameLeft .appMenu").show();
				page.find("#frameLeft .grp").show();
				page.find("#frameLeft").removeClass("leftMini");
				page.find("#frameLeft .frameBtnSet .btnHide").removeClass("hidden");
				page.find("#frameLeft .frameBtnSet .btnShow").addClass("hidden");
			} else {
				page.find("#frameLeft .appMenu").hide();
				page.find("#frameLeft .grp").hide();
				page.find("#frameLeft").addClass("leftMini");
				page.find("#frameLeft .frameBtnSet .btnHide").addClass("hidden");
				page.find("#frameLeft .frameBtnSet .btnShow").removeClass("hidden");
			}
		},
		fnInitFrameGNB: function() {
			//banner로드
            gfnTx("aweportal.frameset","retrieveBanner",{},function(OUTVAR){

				if(OUTVAR.rtnCd=="OK") { 
					for(var i=0; i < OUTVAR.list.length; i++) {
						var row = OUTVAR.list[i];
						var banner = $(`<div class="banner ${row.doc_template_id}" docid="${row.docid}" title="${row.title}"></div>`);
						//내용채워주고
						var bannerContent = $(`<span>${row.content}</span>`);
						bannerContent.on("click",function(e){
							//광고 내용표시
							var oDoc = $(e.target).exactObj(".banner");
							var args = {docid:oDoc.attr("docid"), proc_stat:"Y"};
							var invar = JSON.stringify(args);
							gfnTx("aweportal.frameset","updateBannerRead",{INVAR:invar},function(OUTVAR){

								gfnAlert("준비중",`Banner표시: [${oDoc.attr("docid")}] ${oDoc.attr("title")}`); 
							}); 							

							oDoc.remove();
						});
						banner.append(bannerContent);
						//닫기버튼 추가하고
						var bannerCloser = $('<i class="fas fa-times"></i>');
						bannerCloser.on("click",function(e){
							//다시 안 열리게 업데이트
							var oDoc = $(e.target).exactObj(".banner");
							var args = {docid:oDoc.attr("docid"), proc_stat:"C"};
							var invar = JSON.stringify(args);
							gfnTx("aweportal.frameset","updateBannerRead",{INVAR:invar},function(OUTVAR){

								gfnStatus("광고를 읽음처리 하였습니다."); 
							}); 

							oDoc.remove();
						});
						bannerContent.after(bannerCloser);
						//GNB에 붙여줌
						if(row.doc_template_id=="bannerUp") {
							$("#frameGNB .gnb").before(banner);
						} else {
							$("#frameGNB .gnb").after(banner);
						}
					}
				}
			});
			//알림
			if(gds.notice !=undefined && gds.notice.length > 0) {
				var noticnt = $("#frameGNB button.notice i b");
				if( noticnt.length == 0 ) {
					$("#frameGNB button.notice i").append("<b></b>");
					noticnt = $("#frameGNB button.notice i b");
				}
				noticnt.text( gds.notice.length );
			} else {
				$("#frameGNB button.notice i b").remove();
			}

			//사용자정보에 따른 사용자표시
			$("#frameGNB button.user span").text( gUserinfo.usernm );

			//event-handler
			page.on("click","#frameGNB",function(e){
				var oE = $(e.target);
				if(oE.isON(".CI")) gfnHome();
				//메뉴탭 표시는 click이거나 mouseover이거나 : init에서 처리
				//else if(oE.isON("button.apps")) gMDI.showMenu();
				//else if(oE.isON("button.search")) gfnAlert("준비중","포털 통합검색");
				else if(oE.isON("button.notice")) gfnAlert("준비중","사용자알림");
			});
 
			page.on("click",".user",function(){
				var oE = document.getElementById("drop");
				if(oE.style.display == 'none'){
					oE.style.display = 'block';
				}else{
					oE.style.display = 'none';
				}
			});
			page.on("click",".list",function(e){
				var oE = $(e.target);
				console.dir(oE);
				if(oE.isON(".profile")) gMDI.openPage("manageProfile","프로필 관리",function(OUTVAR){ 
						//do nothing 
					},"aweportal");
				else if(oE.isON(".changePwd")) gMDI.openPage("changePwd","비밀번호 변경",function(OUTVAR){ 

					},"aweportal");
				else if(oE.isON(".withdrawlUser")) gMDI.openPage("withdrawlUser","회원탈퇴",function(OUTVAR){ 
						//do nothing 
					},"aweportal");
				else if(oE.isON(".logout")) gfnLogout();
			});
		},
		fnInitFrameBottom: function() {
			//event-handler
			page.on("click","#frameBottom",function(e){
				var oE = $(e.target);
				if(oE.isON(".home")) gMDI.go(0);
				else if(oE.isON(".prev")) gMDI.go("prev");
				else if(oE.isON(".next")) gMDI.go("next");
				else if(oE.isON(".todo")) gMDI.openPage("selectEmp","회원조회",{},"aweportal");
				else if(oE.isON(".docs")) gfnAlert("준비중","Docs");
				else if(oE.isON(".more")) gfnAlert("준비중","More");
			});
		}
	}

	//세션없으면 리로드 (: index.html -> login.html)
	if(isNull(gUserinfo.usersession)) {
		location.reload();
	//load Env
	} else {
		if(typeof(me.fnInit)=='function') me.fnInit();
	}

});
</script>