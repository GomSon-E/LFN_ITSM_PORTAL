<style>[pgmid='plasHome'].framepage { 
    background-color: rgba(255,255,255,0.75); 
}

[pgmid='plasHome'].framepage .btnXls{ 
    display:none; 
}

[pgmid='plasHome'].framepage #footer {
    background-color: white;
    width: calc(100% + 20px);
    margin: 10px -10px -10px -10px;
    border-bottom-right-radius: var(--marginSmall);
    border-bottom-left-radius: var(--marginSmall);
}

nav.topbar.hide {
    transition: height 1s; 
    height: 0;
    padding: 0;
}

nav.topbar.hide > * {
    visibility: hidden;
}

[pgmid='plasHome'].framepage .row { 
    max-height: 24em;
    flex: 1 1 auto;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: space-between;
    align-content: stretch;
    flex-wrap: nowrap;
    column-gap: 1em;
}

@media (max-width: 480px)
{  
    [pgmid='plasHome'].framepage .row {
        max-height: unset !important;
    }
    [pgmid='plasHome'].framepage .row .componentBody .ag-root-wrapper-body { 
        min-height: 24em;
    }
}
 
[pgmid='plasHome'].framepage .aweCalendar {
    background-color: #ffffffA0;
    flex-direction: column;
    flex-wrap: nowrap;
}

[pgmid='plasHome'].framepage .calendar {
    flex: 1 1 100%;
    text-align: center;
}

[pgmid='plasHome'].framepage .calendar thead {
    background-color: #ffffee;
}

[pgmid='plasHome'].framepage .calendar tbody {
    background-color: #ffffffa0;
    vertical-align: text-top;
    text-align: left;
} 

[pgmid='plasHome'].framepage .calendar tr td:first-child {
    background-color: #ffeeeea0;
} 

[pgmid='plasHome'].framepage .calendar tr td:last-child {
    background-color: #eeeeffa0;
}

[pgmid='plasHome'].framepage .row { 
    flex: 1 1 auto;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: space-between;
    align-content: stretch;
    flex-wrap: nowrap;
    column-gap: 1em;
}

[pgmid='plasHome'].framepage .aweCalendar .calendar tr td {
    width: calc(100% / 7);
    height: calc(100% / 6);
    text-overflow: ellipsis;
    overflow-x: hidden;
    overflow-wrap: anywhere;
    white-space: nowrap;
    max-width: 3em;
}

[pgmid='plasHome'].framepage .aweCalendar .calendar tr td #cont {
    text-overflow: ellipsis;
    overflow-x: hidden; 
    white-space: nowrap; 
}

.icons.alarm {
    position: relative;
}

.icons.alarm.alert::after {
    content: attr(data-content);
    position: absolute;
    right: 7px;
    top: 5px;
    font-size: 8px;
    background-color: #cd0a0ae3;
    border-radius: 1em;
    padding: 0 0.25em;
    color: white;
}

#userMenu {
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    align-content: space-between;
    justify-content: space-around;
    align-items: stretch;
    row-gap: 0.5em;
    padding: 1.5em;
}
#userMenu button {
    margin-top: 1em;
    font: var(--fontBig);
    padding: 1.5em;
    background-color: #32528a;
    border-color: #aaa;
    color: #6daad6;
    border-radius: 1em;
    box-shadow: 3px 3px 3px 3px #aeaeae;
    cursor:pointer;
}
#userMenu button:hover {
    border-color: #79b7e7;
    background: #d0e5f5;
    font-weight: bold;
    color: #1d5987;
}
#userMenu button:active {
    border: 1px solid #aaa;
    background: #f5f8f9;
    font-weight: bold;
    color: #e17009;
}

.pageTop {
    background-color: #eef4ffaa;
}
.pageTop:hover {
    background-color: #fff4ffaa;
}

.ui-dialog-content .framepage[pgmid='detailBBS'] {
    display: block;
}
.ui-dialog-content .framepage[pgmid='detailBBS'] .pageNav {
    display: none;
}




</style>

<!-- HTML autogen start ---------------------------------------------- -->  
<div id="toolbar">
    <div class="icons plus" title="화면키우기"></div>
    <div class="icons menu" title="메뉴"></div>
    <div class="icons search" title="검색"></div>
    <div class="icons alarm" title="알림"></div>
    <div class="icons user" title="사용자">
        <img src="/images/member.png">
    </div>    
</div>
<div class="pageTop"></div>
<div class="pageContent"> 
  <div class="row">
    <div id="notice" style="flex:1 1 10em"></div>
    <!--div id="alarm"></div>-->
    <div id="workingdocs" style="flex:1 1 15em"></div>
    <div id="apdocs" style="flex:1 1 15em"></div>
    <div id="sharedocs" style="flex:1 1 15em"></div>
    <!--<div id="workingdocs" style="flex:1 1 45em"></div>-->
  </div>    
  <div class="row">  
    <!--div id="docs"></div>
    <div id="chits"></div>
    <div id="mdms"></div -->
    <div id="bizCal"></div> 
  </div>   
</div>
<div id="footer"></div>
<div id="userMenu">
    <button pgmid="changePwd"><i class="fas fa-key"></i> 비밀번호 변경</button>
    <button pgmid="manageProfile"><i class="fas fa-user"></i> 사용자프로필</button>
    <button pgmid="manageAlert"><i class="fas fa-bell-exclamation"></i> 알림 목록</button>
    <button pgmid="userLog"><i class="fas fa-clipboard-list"></i> 내 작업내역</button> 
    <button pgmid="chgDocsAuth"><i class="fas fa-exchange-alt"></i> 내 문서이관</button> 
    <button pgmid="logout"><i class="fas fa-sign-out-alt"></i> 로그아웃</button> 
</div> 
<!-- HTML autogen end ---------------------------------------------- -->
<script>
/*-- SCRIPT autogen start ---------------------------------------------- */        
$(function() {
    var appid = "plas";
    var pgmid = "plasHome"; 
    var page = $("*[pgmid='"+pgmid+"'].framepage").last();
    var pageid = page.attr("id"); 
    var me = {}
    var dataSet = {};
    var dataDef = {};
    var pageObj = {};
    var bEdit = false;
    me.fnInit = function() {
        gfn[pageid] = me; 
        me.appid    = appid;
        me.pgmid    = pgmid;
        me.pageid   = pageid;
        me.page     = page; 
        me.dataSet = dataSet;
        me.dataDef = dataDef;
        me.pageObj = pageObj;
        me.bEdit = bEdit;
me.dataDef["_pgm"]={"ver":2.5,"upd_dt":"2022-10-12 10:18:33","remark":"","pgmid":"plasHome","proc_mst_id":"","pgm_stat":"Y","sort_seq":101,"app_pgmid":"plas","shortcut":"","reg_dt":"2022-10-12 10:18:33","reg_usid":"jjr","pgm_nm":"경영관리시스템 홈","upd_usid":"jjr","pgm_tp":"TX","pgm_grp_nm":"HOME","proc_mst_nm":"","app_pgm_nm":"경영관리","":"트랜젝션(화면)","crud":""};
me.dataDef["_pgm_func"]=[{"func_icon":"fas fa-sync","reg_dt":"2022-10-12 10:18:33","reg_usid":"","func_nm":"재조회","upd_usid":"","upd_dt":"2022-10-12 10:18:33","func_tp":"DB_R","remark":null,"pgmid":"plasHome","sort_seq":"1","funcid":"refresh","content":null,"crud":"R","id":"0"}];
me.dataDef["_pgm_data"] = {};
me.dataDef["_pgm_data"]["pageCond"]={"sort_seq":"1","data_id":"pageCond","data_nm":"조회조건","data_icon":null,"component_pgmid":"aweForm","component_option":null,"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"today","colnm":"오늘","dtype":"ymd","etype":"raw","attr":null,"defval":"date(\"today\")","w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"}]};
me.dataDef["_pgm_data"]["notice"]={"sort_seq":"2","data_id":"notice","data_nm":"공지사항","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"title","colnm":"제목","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"24","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_usid","colnm":"등록자","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"5","h":null,"refcd":"PLAS_USID","option":"sel:reg_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"upd_dt","colnm":"등록일","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"7.5","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"read_cnt","colnm":"조회수","dtype":"num","etype":"txt","attr":"right","defval":null,"w":"4","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"docid","colnm":"문서ID","dtype":"text","etype":"none","attr":"hidden","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"}]};
me.dataDef["_pgm_data"]["alarm"]={"sort_seq":"3","data_id":"alarm","data_nm":"알림","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"comments","colnm":"알림내용","dtype":"text","etype":"raw","attr":"readonly","defval":null,"w":"17","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"sender","colnm":"발신자","dtype":"text","etype":"raw","attr":"center readonly","defval":null,"w":"5","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_dt","colnm":"발신일시","dtype":"text","etype":"raw","attr":"center readonly","defval":null,"w":"13","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"ref_info_tp","colnm":"문서번호","dtype":"text","etype":"raw","attr":"hidden","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"}]};
me.dataDef["_pgm_data"]["apdocs"]={"sort_seq":"4","data_id":"apdocs","data_nm":"결재대기","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_dt","colnm":"일자","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"7.5","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_template_id","colnm":"구분","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"5","h":null,"refcd":"DOC_TEMPLATE_ID","option":"sel:doc_template_id::nm::전자결재","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"title","colnm":"제목","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"15","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"tamt","colnm":"금액","dtype":"num","etype":"raw","attr":null,"defval":null,"w":"6","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_usid","colnm":"상신","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"PLAS_USID","option":"sel:reg_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":6,"section":null,"section_icon":null,"colgrp":null,"colid":"ap_usid","colnm":"승인","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"PLAS_USID","option":"sel:ap_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"5"},{"sort_seq":7,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_stat","colnm":"상태","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"DOC_STAT","option":"sel:doc_stat::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"}]};
me.dataDef["_pgm_data"]["workingdocs"]={"sort_seq":"5","data_id":"workingdocs","data_nm":"내 문서","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_template_id","colnm":"문서종류","dtype":"text","etype":"sel","attr":"readolny","defval":null,"w":"8","h":null,"refcd":"DOC_TEMPLATE_ID","option":"sel:doc_template_id::nm::전자결재","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"docid","colnm":"문서ID","dtype":"text","etype":"none","attr":"hidden","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_no","colnm":"문서번호","dtype":"text","etype":"raw","attr":"hidden","defval":null,"w":"15","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"title","colnm":"제목","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"20","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_stat","colnm":"상태","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"6","h":null,"refcd":"DOC_STAT","option":"sel:doc_stat::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":6,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_usid","colnm":"작성자","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"6","h":null,"refcd":"PLAS_USID","option":"sel:reg_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"5"},{"sort_seq":7,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_dt","colnm":"작성일시","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"14","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"},{"sort_seq":8,"section":null,"section_icon":null,"colgrp":null,"colid":"ap_dt","colnm":"승인일시","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"14","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"7"}]};
me.dataDef["_pgm_data"]["sharedocs"]={"sort_seq":"6","data_id":"sharedocs","data_nm":"보고·참조문서","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_dt","colnm":"일자","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"7.5","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_template_id","colnm":"구분","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"5","h":null,"refcd":"DOC_TEMPLATE_ID","option":"sel:doc_template_id::nm::전자결재","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"title","colnm":"제목","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"15","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_stat","colnm":"상태","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"DOC_STAT","option":"sel:doc_stat::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"tamt","colnm":"금액","dtype":"num","etype":"raw","attr":null,"defval":null,"w":"6","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":6,"section":null,"section_icon":null,"colgrp":null,"colid":"reg_usid","colnm":"상신","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"PLAS_USID","option":"sel:reg_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"5"},{"sort_seq":7,"section":null,"section_icon":null,"colgrp":null,"colid":"ap_usid","colnm":"승인","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"6","h":null,"refcd":"PLAS_USID","option":"sel:ap_usid::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"}]};
me.dataDef["_pgm_data"]["docs"]={"sort_seq":"7","data_id":"docs","data_nm":"문서(당월)","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_tp","colnm":"구분","dtype":"text","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"doc_cnt","colnm":"건수","dtype":"num","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"}]};
me.dataDef["_pgm_data"]["chits"]={"sort_seq":"8","data_id":"chits","data_nm":"전표(당월)","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"chit_tp","colnm":"구분","dtype":"text","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"chit_cnt","colnm":"건수","dtype":"text","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"chit_amt","colnm":"금액","dtype":"num","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"budget_amt","colnm":"예산","dtype":"num","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"}]};
me.dataDef["_pgm_data"]["mdms"]={"sort_seq":"9","data_id":"mdms","data_nm":"마스터정보","data_icon":null,"component_pgmid":"agGrid","component_option":{"func":[{"funcid":"more","func_nm":"더보기"}]},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"data_tp","colnm":"구분","dtype":"text","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"data_cnt","colnm":"건수","dtype":"num","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"}]};
me.dataDef["_pgm_data"]["bizCal"]={"sort_seq":"10","data_id":"bizCal","data_nm":"업무달력","data_icon":null,"component_pgmid":"aweCalendar","component_option":{"caltype":"COMMON","fnTemplate":"calendartemplate","week_cnt":6},"inout_tp":null,"content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":null,"colnm":null,"dtype":"text","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":null,"colnm":null,"dtype":"text","etype":null,"attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"}]};

        me.pageObj["_page"] = new gfnFramepage( me ); 
        for(var component_id in me.dataDef["_pgm_data"]) { 
            me.pageObj[component_id] = new gfnComponent( me.pageid, component_id, me.dataDef["_pgm_data"][component_id], me.fnEH, me); 
        }  
        setTimeout(function(){
            $("#frameset").scrollTo(0); //스크롤 
        },10);
        if(typeof(me.fnInitExtra)=='function') me.fnInitExtra(); 
    } 
/*-- SCRIPT autogen end ---------------------------------------------- */
    /* 달력 세팅용 템플릿 */
    calendartemplate = function(row) {
        if (row.remark) return `${row.remark}`;
	}

    /* 사용자초기화 */
    me.fnInitExtra=function() {
        //세션 없으면 로그아웃 처리
        if(isNull(gUserinfo.userid) || gUserinfo.userid=="anonymous") {
            gfnLogout(); 
            return;
        } else { 
            //메인화면의 login클래스 제거
            $(".login").removeClass("login");
            $("footer").appendTo("#footer");
            $("nav.topbar .logo img").attr("src","/images/PlasLogo.png").on("click",gfnHome);
            //툴바를 topbar에 도킹하고 이벤트 바인딩
            $("#toolbar").appendTo(".topbarMain")
            $("#toolbar").on("click",function(e){
               var func = $(e.target).exactObj(".icons");
               if(func.hasClass("plus")) gfnToggleScreen();
               if(func.hasClass("menu")) me.fnShowMenu();
               if(func.hasClass("search")) me.fnShowSearch();
               if(func.hasClass("alarm")) me.fnShowAlarm();
               if(func.hasClass("user")) me.fnShowUser();
            }); 
        } 
        
		/*
		//"content"," ");
		//gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper",
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","opacity","0.5");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","position","absolute");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","top","0");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","bottom","0");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","left","0");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","right","0");
		gfnChangeCss("[pgmid="+pgmid+"] .pageContent .componentContainer:first-child .ag-center-cols-clipper::after","z-index","-1");
		*/			
        //
        me.page.find(".btnCond").on("click",function(e){
            gfnToggleScreen();
        }); 
        $("nav.topbar").on("mouseenter",function(e){
            gfnToggleScreen("normal");
        }); 
        
        me.fnRetrieveInit(); 
        //공지 및 알림(ad)조회 및 표시
        // me.fnAd(); 
        
        //달력컴포넌트를 초기화 한다. 이번달 1일부터 말일까지 
        me.pageObj["bizCal"].initCalendar();
        
        //사용자메뉴 히든팝업처리
        //gfnPopup(title, content, aOpt, afnCallback)
        var opt = {
            autoOpen: false,
            close : function(){}
        }
        me.userMenu = gfnPopup("사용자메뉴", $("#userMenu"), opt, me.fnRefresh); 
        $("#userMenu button").on("click",function(e){
           var btn = $(e.target);
           var func = btn.attr("pgmid")
           if(func=="logout") gfnLogout();
           else if(func=="chgDocsAuth") gMDI.openPage(func,null,function(){},"plas");
           else gMDI.openPage(func,null,function(){},"aweportal");
           me.userMenu.dialog("close");
        });
    }
    
    /* 이벤트핸들러 */
    me.fnEH=function(component, evt, row, col, val) { 
        //console.log(evt+","+row+","+col+","+val);
        //화면기능버튼이 눌리면 
        if (component==me.pageObj["_pageFunc"]){ 
            if(typeof(me[col])=='function') me[col](); //col=기능명 me["fnSearch"]()=me.fnSearch(); 
        }
        //공지 
        if(component==me.pageObj["notice"]) {
            if(evt=="componentFunc") {
                if(row=="more") {
                    gMDI.openPage( "manageBBS", "공지사항 관리", function(){ $(".ui-dialog-content").scrollTop(0); }, "aweportal" );
                }
            } 
            if(evt=="dblclick") {
                var rows = me.pageObj.notice.selectedRows();
                var rowData = me.pageObj.notice.getRowData(rows);
                var invar = JSON.stringify(rowData);
                gfnTx("aweportal.manageBBS", "selectOneDoc", {"INVAR" : invar}, function(OUTVAR){
                    if(OUTVAR.rtnCd=="OK") {
                        gfnPopupDetailBBS(rowData.docid);
                    } else {
                        gfnAlert("조회오류",OUTVAR.rtnMsg);
                    }
                }); 
            } 
        }
        //알림  
        if(component==me.pageObj["alarm"]) {
            if(evt=="componentFunc") {
                if(row=="more") {
                    me.fnShowAlarm();
                }  
            }
            if(evt=="dblclick") {
                var rowData = component.getRowData(row);
                var panel = $("<div></div>");
                gParam.data = rowData;
                //gfnLoad(app,pgm,oDOM,afnCallback,domChildClear)
                gfnLoad("aweportal","checkAlert",panel,function(){
                    //gfnPopup(title, content, aOpt, afnCallback)
                    gfnPopup("알림확인", panel, undefined, me.fnRefresh);     
                })
                
            } 
        } 
        //내 문서 
        if(component==me.pageObj["workingdocs"]) {
            if(evt=="componentFunc") {
                if(row=="more") {
                    gMDI.openPage("plasDoc","전자결재문서 목록");
                    // gMDI.openPage("plasDoc","내 문서 목록");
                    
                    //gMDI.openPage("plasDoc","내 문서 목록", function(){$("[pgmid='plasDoc'].framepage .select2-selection__rendered").text("증빙일");});
                }  
            }
            if(evt=="dblclick") {
                var rowData = component.getRowData(row);
                console.log(rowData);
                gfnShowPlasDoc(rowData.docid, mode="preview"); 
            } 
        }
        //결재 대기
        if(component==me.pageObj["apdocs"]) {
            if(evt=="componentFunc") {
                if(row=="more") {
                    gParam.doc_category = "결재대기";
                    gMDI.openPage("plasDoc","전자결재문서 목록");
                }  
            }
            if(evt=="dblclick") {
                var rowData = component.getRowData(row);
                gfnShowPlasDoc(rowData.docid, mode="preview"); 
            } 
        }
        //보고·참조문서
        if(component==me.pageObj["sharedocs"]) {
            if(evt=="componentFunc") {
                if(row=="more") {
                    gParam.doc_category = "보고·참조문서";
                    gMDI.openPage("plasDoc","전자결재문서 목록");
                }  
            }
            if(evt=="dblclick") {
                var rowData = component.getRowData(row);
                gfnShowPlasDoc(rowData.docid, mode="preview"); 
            } 
        } 
    }
    
    //공통코드 및 화면목록 로드
    me.fnRetrieveInit=function() {
        gfnTx(appid+"."+pgmid,"retrieveInit",{}, function(OUTVAR){ 
            if(OUTVAR.rtnCd=="OK") { 
                if(isNull(OUTVAR.plas_user) || isNull(OUTVAR.plas_user[0])) {
                    alert("사용자정보가 존재하지 않습니다. \n지속적인 오류 발생시 계정문제일 수 있으니 IT팀에 문의해주시기 바랍니다.");
                    gfnLogout();
                }
                
                gds.comcd         = OUTVAR.comcd;   //공통코드
                gfnGetData("PLAS_USID",function(e){})
                gUserinfo.defval  = OUTVAR.defval;  //사용자기본값
                gUserinfo.usergrp = OUTVAR.usergrp; //사용자그룹
                gds.menu          = OUTVAR.menu;    //권한화면목록 
                
                //gUserinfo.co_cd   = gds.comcd.find(el=>el.grpcd=="DZ_CO_CD"&&el.val_6==gUserinfo.orgcd).cd; //사용자co_cd넣어줌
                gUserinfo = $.extend(true,gUserinfo,OUTVAR.plas_user[0]);
                /* co_cd, 
                co_nm, 
                div_cd, 
                div_nm, 
                dept_cd, 
                dept_nm, 
                pjt_cd, 
                pjt_nm, 
                emp_cd, 
                kor_nm, 
                hrsp_cd, 
                hrsp_nm, 
                hcls_cd, 
                hcls_nm, 
                tel_no, 
                join_dt, 
                rtr_dt, 
                insert_dt, 
                insert_id, 
                modify_dt, 
                modify_id, 
                comcd, 
                usid, 
                email, 
                sort_seq, 
                cd_stat */  
                
                if(OUTVAR.loginCheck=="Y") { //비밀번호 변경페이지 호출
                    gMDI.openPage("changePwd", "비밀번호를 변경해주세요!", function(){
                        gfnAlert("비밀번호 변경","비밀번호가 초기화 되었습니다. 비밀번호를 변경해주세요!");
                    }, "aweportal");
                }
                SYS_URL = OUTVAR.server;
                
                me.fnRefresh();
            } else {
                console.log(OUTVAR);
            }
        });
    }
    
    //사용자메뉴 표시
    me.fnShowMenu=function(){
        gMDI.openPageOne("plasMenu");
    }
    me.fnShowSearch=function(){
        //gMDI.openPageOne("plasSearch");
        gMDI.openPageOne("plasEMP");
    }
    me.fnShowAlarm=function(){
        gMDI.openPageOne("manageAlert","알림 & 메시지","","", undefined ,"aweportal");
    }
    me.fnShowUser=function(){
        me.userMenu.dialog("open");
    }
    
    //refresh:재조회 
    me.fnRefresh=function() { 
        var args = me.pageObj.pageCond.exportData()[0]; 
        var invar = JSON.stringify(args);
        gfnTx(appid+"."+pgmid,"refresh",{INVAR:invar},function(OUTVAR){
            //console.log(OUTVAR);
            if(OUTVAR.rtnCd=="OK") {
                me.pageObj.notice.importData(OUTVAR.notice);
                me.pageObj.alarm.importData(OUTVAR.alarm);
                
                if(OUTVAR.alarm.length > 0) {
                    $(".icons.alarm").addClass("alert");
                    $(".icons.alarm.alert").attr('data-content',OUTVAR.alarm.length);
                } else {
                    $(".icons.alarm").removeClass("alert");
                }
                
                me.pageObj.apdocs.importData(OUTVAR.apdocs);
                me.pageObj.workingdocs.importData(OUTVAR.workingdocs);
                me.pageObj.sharedocs.importData(OUTVAR.sharedocs);
                
                me.pageObj.docs.importData(OUTVAR.docs);
                me.pageObj.chits.importData(OUTVAR.chits);
                me.pageObj.mdms.importData(OUTVAR.mdms);
                me.pageObj.bizCal.importData(OUTVAR.bizCal); 
                
                
            } else {
                gfnAlert("오류",OUTVAR.rtnMsg);
            }
        },true);
        //dummy Element Remove
        $("body").children("div").each(function(idx,el){
            if(isNull(el.className) && isNull(el.innerText)) $(el).remove();
        }); 
    }
    
    


/*-- SCRIPT autogen ---------------------------------------------------- */        
if(typeof(me.fnInit)=='function') me.fnInit();
});

</script>