<style>[pgmid='manageST'].framepage .userClass { 
width:100%; 
}</style>

<!-- HTML autogen start ---------------------------------------------- -->            
<div class="pageNav"></div>
<div class="pageTop"></div>
<div class="pageCond"></div>
<div class="pageGuide"></div>
<div class="pageContent flexColumn" >
    <ul id="tabs">
        <li refid="t1">스타일마스터 목록</li> 
        <li refid="t3">코드마스터</li>
    </ul>
    <div class="flexColumn">
        <div id="t1" class="flexRow">
            <div id='list' style="flex:1 1 50%" class="flexColumn"></div>
            <div id='mstContainer' style="flex:1 1 calc(50% - 3em)" class="flexColumn">
                <div id="mst"></div>
                <div id="colorinfo"></div>
                <div id="saleCond"></div> 
            </div>
        </div> 
        <div id="t3" class="flexColumn">
            <div id="codelist" class="flexColumn"></div>
        </div>
    </div> 
</div>
<!-- HTML autogen end ---------------------------------------------- -->
<script>
/*-- SCRIPT autogen start ---------------------------------------------- */        
$(function() {
    var appid = "fo_mdp";
    var pgmid = "manageST"; 
    var page = $("*[pgmid='"+pgmid+"'].framepage").last();
    var pageid = page.attr("id"); 
    var me = {}
    var dataSet = {};
    var dataDef = {};
    var pageObj = {};
    var bEdit = false;
    me.fnInit = function() {
        gfn[pageid] = me; 
        me.appid    = appid;
        me.pgmid    = pgmid;
        me.pageid   = pageid;
        me.page     = page; 
        me.dataSet = dataSet;
        me.dataDef = dataDef;
        me.pageObj = pageObj;
        me.bEdit = bEdit;
me.dataDef["_pgm"]={"pgmid":"manageST","pgm_nm":"★스타일마스터","pgm_tp":"UX","proc_mst_id":"","proc_mst_nm":"","remark":"스타일코드/속성, 이미지, 일정그룹, 담당자, 입고량, 주별 판매계획 등록, 크롤링된 상품정보 매핑","ver":1.2,"pgm_stat":"Y","reg_usid":"lkh","reg_dt":"2022-03-22 15:59:03","upd_usid":"lyj","upd_dt":"2022-04-06 15:10:41","app_pgmid":"fo_mdp","pgm_grp_nm":"스타일MP","sort_seq":22,"shortcut":"S0","crud":"","app_pgm_nm":"상품기획"};
me.dataDef["_pgm_func"]=[{"func_icon":"fas fa-search","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"조회","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"DB_R","remark":null,"pgmid":"manageST","sort_seq":1,"funcid":"search","content":"스타일 목록 조회","crud":"R","id":"0"},{"func_icon":"fas fa-document","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"신규","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"EH","remark":null,"pgmid":"manageST","sort_seq":2,"funcid":"new","content":"신규 스타일 등록","crud":"R","id":"1"},{"func_icon":"fas fa-save","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"저장","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"DB_W","remark":null,"pgmid":"manageST","sort_seq":3,"funcid":"save","content":"스타일 정보 저장","crud":"R","id":"2"},{"func_icon":"extra","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"LF사입리스트 업로드","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"EH","remark":"LF 사입스타일 업로드는 Functions > LF사입리스트 업로드,","pgmid":"manageST","sort_seq":4,"funcid":"uploadLF","content":"LF사입리스트 업로드(팝업호출)","crud":"R","id":"3"},{"func_icon":"extra","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"위탁상품 업로드","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"EH","remark":"위탁상품 업로드는 Functions > 위탁상품 업로드 기능을 사용하세요!","pgmid":"manageST","sort_seq":5,"funcid":"uploadCSGN","content":"위탁상품 업로드(팝업호출)","crud":"R","id":"4"},{"func_icon":"extra","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"기획생산(제덴) / 사입 업로드","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"EH","remark":null,"pgmid":"manageST","sort_seq":6,"funcid":"uploadZD","content":null,"crud":"R","id":"5"},{"func_icon":"extra","reg_dt":"2022-03-22 15:59:03","reg_usid":"","func_nm":"트라이본즈 스타일 업로드","upd_usid":"","upd_dt":"2022-03-22 15:59:03","func_tp":"EH","remark":null,"pgmid":"manageST","sort_seq":7,"funcid":"uploadTRI","content":null,"crud":"R","id":"6"},{"sort_seq":8,"funcid":"uploadCVK","func_nm":"캘빈클라인 업로드","func_icon":"extra","func_tp":"EH","content":null,"remark":null,"crud":"C","id":"7"}];
me.dataDef["_pgm_data"] = {};
me.dataDef["_pgm_data"]["pageCond"]={"sort_seq":"1","data_id":"pageCond","data_nm":"조회조건","data_icon":null,"component_pgmid":"aweForm","component_option":null,"inout_tp":"IN","content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"mat_tp","colnm":"상품유형","dtype":"text","etype":"sel","attr":null,"defval":null,"w":null,"h":null,"refcd":"MAT_TP","option":"multi:mat_tp::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"suprcd","colnm":"공급사","dtype":"text","etype":"sel","attr":null,"defval":null,"w":null,"h":null,"refcd":"supr","option":"multi:suprcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"brcd","colnm":"브랜드","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":null,"h":null,"refcd":"brcd","option":"multi:brcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"yyyy","colnm":"상품연도","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":null,"h":null,"refcd":"YYYY","option":"multi:yyyy::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"sssn_cd","colnm":"대표시즌","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":null,"h":null,"refcd":"SSON_CD","option":"multi:sssn_cd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":6,"section":null,"section_icon":null,"colgrp":null,"colid":"sson_cd","colnm":"시즌","dtype":"text","etype":"sel","attr":null,"defval":null,"w":null,"h":null,"refcd":"SBSN_CD","option":"multi:sson_cd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"5"},{"sort_seq":7,"section":null,"section_icon":null,"colgrp":null,"colid":"itemcd","colnm":"품목","dtype":"text","etype":"sel","attr":null,"defval":null,"w":null,"h":null,"refcd":"item","option":"multi:itemcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"},{"sort_seq":8,"section":null,"section_icon":null,"colgrp":null,"colid":"stcd","colnm":"스타일(Like)","dtype":"text","etype":"txt","attr":"upper","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"7"}]};
me.dataDef["_pgm_data"]["codelist"]={"sort_seq":"2","data_id":"codelist","data_nm":"코드리스트","data_icon":null,"component_pgmid":"agGrid","component_option":null,"inout_tp":"OUT","content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"grpcd","colnm":"코드구분","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"12","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"grpcd_nm","colnm":"구분명","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"20","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"cd","colnm":"코드","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"10","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"nm","colnm":"명","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"20","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C"}]};
me.dataDef["_pgm_data"]["list"]={"sort_seq":"3","data_id":"list","data_nm":"스타일/컬러 목록","data_icon":null,"component_pgmid":"agGrid","component_option":null,"inout_tp":"INOUT","content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"goods_cd","colnm":"스타일","dtype":"text","etype":"raw","attr":"pk fixL","defval":null,"w":"10","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":"\"건수:\" + count( 'goods_cd' )","remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"goods_nm","colnm":"상품명","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"15","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"suprcd","colnm":"공급업체","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"10","h":null,"refcd":"supr","option":"sel:suprcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"brcd","colnm":"브랜드","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"5","h":null,"refcd":"brcd","option":"sel:brcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":5,"section":null,"section_icon":null,"colgrp":null,"colid":"yyyy","colnm":"연도","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"4","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"},{"sort_seq":6,"section":null,"section_icon":null,"colgrp":null,"colid":"sson_cd","colnm":"시즌","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"4","h":null,"refcd":"SBSN_CD","option":"sel:sson_cd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"7"},{"sort_seq":7,"section":null,"section_icon":null,"colgrp":null,"colid":"itemcd","colnm":"품목","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"4","h":null,"refcd":"item","option":"sel:itemcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"9"},{"sort_seq":8,"section":null,"section_icon":null,"colgrp":null,"colid":"color_info","colnm":"컬러","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"5","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"15"},{"sort_seq":9,"section":null,"section_icon":null,"colgrp":null,"colid":"sz_range_cd","colnm":"사이즈범위","dtype":"text","etype":"sel","attr":"readonly","defval":null,"w":"5","h":null,"refcd":"SZ_RANGE","option":"sel:sz_range_cd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"17"},{"sort_seq":10,"section":null,"section_icon":null,"colgrp":null,"colid":"sz_cd_info","colnm":"사이즈","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"18"},{"sort_seq":11,"section":null,"section_icon":null,"colgrp":null,"colid":"init_price","colnm":"최초소비가","dtype":"num","etype":"raw","attr":"keycol","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":"\" \"","remark":null,"crud":"C","id":"19"},{"sort_seq":12,"section":null,"section_icon":null,"colgrp":null,"colid":"sale_price","colnm":"판매가","dtype":"num","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":"\" \"","remark":null,"crud":"C","id":"21"},{"sort_seq":13,"section":null,"section_icon":null,"colgrp":null,"colid":"sprice_rt","colnm":"판가율(%)","dtype":"num","etype":"raw","attr":"dec1","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":"\" \"","remark":null,"crud":"C","id":"39"},{"sort_seq":14,"section":null,"section_icon":null,"colgrp":null,"colid":"init_prch_rt","colnm":"원가율(%)","dtype":"num","etype":"raw","attr":"dec1","defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":"\" \"","remark":null,"crud":"C","id":"22"},{"sort_seq":15,"section":null,"section_icon":null,"colgrp":null,"colid":"gr_schd_qty","colnm":"입고예정량","dtype":"num","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"25"},{"sort_seq":16,"section":null,"section_icon":null,"colgrp":null,"colid":"sale_start_dt","colnm":"판기시작일","dtype":"ymd","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"28"},{"sort_seq":17,"section":null,"section_icon":null,"colgrp":null,"colid":"sale_end_dt","colnm":"판기종료일","dtype":"ymd","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"29"},{"sort_seq":18,"section":null,"section_icon":null,"colgrp":null,"colid":"sale_allow_yn","colnm":"판매허용","dtype":"text","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"31"},{"sort_seq":19,"section":null,"section_icon":null,"colgrp":null,"colid":"gr_allow_yn","colnm":"입고허용","dtype":"text","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"32"},{"sort_seq":20,"section":null,"section_icon":null,"colgrp":null,"colid":"gi_allow_yn","colnm":"출고허용","dtype":"text","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"33"},{"sort_seq":21,"section":null,"section_icon":null,"colgrp":null,"colid":"cd_stat","colnm":"코드상태","dtype":"text","etype":"raw","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"34"}]};
me.dataDef["_pgm_data"]["mst"]={"sort_seq":"4","data_id":"mst","data_nm":"스타일 정보","data_icon":null,"component_pgmid":"aweForm","component_option":{"remark":"신규 등록시 속성 입력 > 스타일코드 자동조합"},"inout_tp":"INOUT","content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":"스타일","colid":"goods_cd","colnm":"코드","dtype":"text","etype":"txt","attr":"pk upper readonly","defval":null,"w":"15","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":"스타일","colid":"goods_nm","colnm":"명","dtype":"text","etype":"txt","attr":"keycol","defval":null,"w":"35","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":"속성","section_icon":null,"colgrp":null,"colid":"mat_tp","colnm":"상품유형","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"10","h":null,"refcd":"MAT_TP","option":"sel:mat_tp::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":"속성","section_icon":null,"colgrp":null,"colid":"suprcd","colnm":"공급사","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"15","h":null,"refcd":"supr","option":"sel:suprcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"},{"sort_seq":5,"section":"속성","section_icon":null,"colgrp":null,"colid":"brcd","colnm":"브랜드","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"10","h":null,"refcd":"brcd","option":"sel:brcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"4"},{"sort_seq":6,"section":"속성","section_icon":null,"colgrp":null,"colid":"yyyy","colnm":"연도","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"5","h":null,"refcd":"YYYY","option":"sel:yyyy::cd","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"5"},{"sort_seq":7,"section":"속성","section_icon":null,"colgrp":null,"colid":"sssn_cd","colnm":"대표시즌","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"5","h":null,"refcd":"SSON_CD","option":"sel:sssn_cd::nm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"6"},{"sort_seq":8,"section":"속성","section_icon":null,"colgrp":null,"colid":"sson_cd","colnm":"시즌","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"5","h":null,"refcd":"SBSN_CD","option":"sel:sson_cd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"7"},{"sort_seq":9,"section":"속성","section_icon":null,"colgrp":null,"colid":"itemcd","colnm":"품목","dtype":"text","etype":"sel","attr":"keycol","defval":null,"w":"5","h":null,"refcd":"item","option":"sel:itemcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"8"},{"sort_seq":10,"section":"속성","section_icon":null,"colgrp":null,"colid":"goods_seq","colnm":"순번","dtype":"text","etype":"txt","attr":"pk upper","defval":null,"w":"3","h":null,"refcd":null,"option":null,"len":3,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"9"},{"sort_seq":11,"section":"속성","section_icon":null,"colgrp":null,"colid":"detail_itemcd","colnm":"세부품목","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"5","h":null,"refcd":"DET_ITEMCD","option":"sel:detail_itemcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"10"},{"sort_seq":12,"section":"속성","section_icon":null,"colgrp":null,"colid":"goods_tp","colnm":"제품구분","dtype":"text","etype":"sel","attr":null,"defval":null,"w":"5","h":null,"refcd":"GOODS_TP","option":"sel:goods_tp::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"11"},{"sort_seq":13,"section":"가격","section_icon":null,"colgrp":null,"colid":"init_price","colnm":"최초가격","dtype":"num","etype":"txt","attr":"keycol","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"13"},{"sort_seq":14,"section":"가격","section_icon":null,"colgrp":null,"colid":"sale_std_price","colnm":"판매기준가","dtype":"num","etype":"txt","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"14"},{"sort_seq":15,"section":"가격","section_icon":null,"colgrp":null,"colid":"std_sprice_rt","colnm":"판가율(%)","dtype":"num","etype":"raw","attr":"dec1","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"15"},{"sort_seq":16,"section":"가격","section_icon":null,"colgrp":null,"colid":"sale_price","colnm":"판매가","dtype":"num","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"16"},{"sort_seq":17,"section":"가격","section_icon":null,"colgrp":null,"colid":"sprice_rt","colnm":"판가율(%)","dtype":"num","etype":"raw","attr":"dec1","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"17"},{"sort_seq":18,"section":"원가(VAT제외)","section_icon":null,"colgrp":null,"colid":"schd_cost","colnm":"사전원가","dtype":"num","etype":"txt","attr":"keycol","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"18"},{"sort_seq":19,"section":"원가(VAT제외)","section_icon":null,"colgrp":null,"colid":"init_prch_rt","colnm":"원가율(%)","dtype":"num","etype":"txt","attr":"dec1 keycol","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"19"},{"sort_seq":20,"section":"원가(VAT제외)","section_icon":null,"colgrp":null,"colid":"cfm_cost","colnm":"사후원가","dtype":"num","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"20"},{"sort_seq":21,"section":"원가(VAT제외)","section_icon":null,"colgrp":null,"colid":"cost_rt","colnm":"원가율(%)","dtype":"num","etype":"raw","attr":"readonly dec1","defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"21"},{"sort_seq":22,"section":"상태","section_icon":null,"colgrp":null,"colid":"sale_allow_yn","colnm":"판매허용","dtype":"text","etype":"cbx","attr":null,"defval":"Y","w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"22"},{"sort_seq":23,"section":"상태","section_icon":null,"colgrp":null,"colid":"gr_allow_yn","colnm":"입고허용","dtype":"text","etype":"cbx","attr":null,"defval":"Y","w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"23"},{"sort_seq":24,"section":"상태","section_icon":null,"colgrp":null,"colid":"gi_allow_yn","colnm":"출고허용","dtype":"text","etype":"cbx","attr":null,"defval":"Y","w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"24"},{"sort_seq":25,"section":"상태","section_icon":null,"colgrp":null,"colid":"cd_stat","colnm":"코드사용","dtype":"text","etype":"cbx","attr":null,"defval":"Y","w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"25"},{"sort_seq":26,"section":"상태","section_icon":null,"colgrp":"등록정보","colid":"reg_usid","colnm":"사용자ID","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"6","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"26"},{"sort_seq":27,"section":"상태","section_icon":null,"colgrp":"등록정보","colid":"reg_dt","colnm":"등록일자","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"27"},{"sort_seq":28,"section":"상태","section_icon":null,"colgrp":"변경정보","colid":"upd_usid","colnm":"사용자ID","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"6","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"28"},{"sort_seq":29,"section":"상태","section_icon":null,"colgrp":"변경정보","colid":"upd_dt","colnm":"변경일자","dtype":"text","etype":"raw","attr":null,"defval":null,"w":"8","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"29"}]};
me.dataDef["_pgm_data"]["colorinfo"]={"sort_seq":"5","data_id":"colorinfo","data_nm":"컬러 정보","data_icon":null,"component_pgmid":"agGrid","component_option":{"gridOptions":{"singleClickEdit":"false"},"remark":"사이즈범위 선택후 줄추가시 사이즈 자동 추가:","content":[{"colid":"sz_range_cd","colnm":"사이즈범위","dtype":"text","etype":"sel","refcd":"SZ_RANGE","option":"sel:sz_range_cd::cdnm"}],"func":[{"funcid":"addRow","func_nm":"컬러추가","func_icon":"fas fa-plus"},{"funcid":"delRow","func_nm":"컬러삭제","func_icon":"fas fa-minus"}]},"inout_tp":"INOUT","content":[{"sort_seq":1,"section":null,"section_icon":null,"colgrp":null,"colid":"colorcd","colnm":"컬러","dtype":"text","etype":"sel","attr":"pk","defval":null,"w":"10","h":null,"refcd":"COLORCD","option":"sel:colorcd::cdnm","len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"0"},{"sort_seq":2,"section":null,"section_icon":null,"colgrp":null,"colid":"sz_cd","colnm":"사이즈","dtype":"text","etype":"txt","attr":"pk upper","defval":null,"w":"10","h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"1"},{"sort_seq":3,"section":null,"section_icon":null,"colgrp":null,"colid":"gr_schd_qty","colnm":"입고예정량","dtype":"num","etype":"txt","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"2"},{"sort_seq":4,"section":null,"section_icon":null,"colgrp":null,"colid":"barcd","colnm":"바코드","dtype":"text","etype":"txt","attr":null,"defval":null,"w":null,"h":null,"refcd":null,"option":null,"len":null,"valid":null,"colFormula":null,"grpFormula":null,"totFormula":null,"remark":null,"crud":"C","id":"3"}]};

        me.pageObj["_page"] = new gfnFramepage( me ); 
        for(var component_id in me.dataDef["_pgm_data"]) { 
            me.pageObj[component_id] = new gfnComponent( me.pageid, component_id, me.dataDef["_pgm_data"][component_id], me.fnEH, me); 
        }  
        setTimeout(function(){
            $("#frameset").scrollTo(0); //스크롤 
        },10);
        if(typeof(me.fnInitExtra)=='function') me.fnInitExtra(); 
    } 
/*-- SCRIPT autogen end ---------------------------------------------- */

    /* 사용자초기화 */
    me.fnInitExtra=function() {
        //탭
        gfnTab(pageid, "tabs");
        //코드정보 상세보기 숨김
        //me.page.find("#mstContainer").hide();
        //코드마스터 미리 조회하여 데이터 세팅: async/await로 클린코드
        me.fnInitCodelist(); 
    }
    /* 기초코드 가져오기 OLD Version */
    me.fnInitCodelist=function() {
        function fnInitCodelist(refcd, refnm, afnCallback) {
            gfnGetData(refcd,function(data) {
                if(!isNull(data)) {
                    var codelist = me.pageObj.codelist.exportData();
                    for(var i=0; i < data.length; i++) {
                        codelist.push({grpcd:refcd,grpcd_nm:refnm,cd:data[i].cd,nm:data[i].nm});
                    }
                    me.pageObj.codelist.importData(codelist);
                } else {
                    gfnStatus(refnm+" - 코드목록이 존재하지 않습니다.");
                }
                if(!isNull(afnCallback)) afnCallback();
            });
        }
        gfnStatus("코드마스터를 다시 읽어들이고 있습니다. 잠시만 기다려주세요...");
        gfnTx("aweportal.frameset","retrieveInit",{}, function(OUTVAR){ 
            if(OUTVAR.rtnCd=="OK") {
                gds.comcd         = OUTVAR.comcd;   //공통코드 
                fnInitCodelist("supr","공급사",function(){
                    fnInitCodelist("brcd","브랜드",function(){
                        fnInitCodelist("SBSN_CD","시즌",function(){
                            fnInitCodelist("item","품목",function(){
                                fnInitCodelist("DET_ITEMCD","세부품목",function(){
                                    fnInitCodelist("COLORCD","컬러",function(){
                                        fnInitCodelist("GOODS_STAT_CD","상제품상태(연차)",function(){
                                            fnInitCodelist("SZ_RANGE","사이즈유형"); 
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            }
		});
         
    }
        /* 이벤트핸들러 */
    me.fnEH=function(component, evt, row, col, val) { 
        console.log(evt+","+row+","+col+","+val);
        //화면기능버튼이 눌리면 
        if (component==me.pageObj["_pageFunc"]){ 
            if(typeof(me[col])=='function') me[col](); //col=기능명 me["fnSearch"]()=me.fnSearch(); 
        }
        //pageCond:조회조건 이벤트처리     
        else if(component==me.pageObj["pageCond"]) {
            //if(evt=="change" && col=="colid") {...}
        }

        //list:상제품 목록 이벤트처리     
        else if(component==me.pageObj["list"]) {  
            if(evt=="focus") {
                if(row >=0) {
                    var rowData = component.getRowData(row); 
                    if(!isNull(rowData)) {  
                        me.fnSearchMst(rowData.goods_cd); 
                    }
                }
            }            
        }

        //마스터입력 
        else if(component==me.pageObj["mst"]) {
            if(evt=="change") { 
                //스타일번호 조립
                if(me.mode=="NEW") {
                    if(inStr(["brcd","yyyy","sson_cd","itemcd","goods_seq"],col) >= 0) {
                        var brcd      = nvl(component.getVal("brcd"),"ZZ");
                        var yyyy      = nvl(component.getVal("yyyy"),date("today","yyyy"));
                        var sson_cd   = nvl(component.getVal("sson_cd"),"G");
                        var itemcd    = nvl(component.getVal("itemcd"),"ZZ");
                        var goods_seq = nvl(component.getVal("goods_seq"),"000"); 
                        
                        var goods_cd = brcd+itemcd+(yyyy.substr(3,1))+sson_cd+goods_seq;
                        var goods_nm = gfnCdNm("brcd",brcd,"nm")+" "+gfnCdNm("item",itemcd,"nm")+"("+goods_cd+")";
                        
                        component.setVal("goods_cd",goods_cd);
                        component.setVal("goods_nm",goods_nm);
                    }  
                } 
                //가격,원가변경시 율 재계산 
                if(inStr(["init_price","std_sprice_rt","sale_std_price","init_prch_rt","schd_cost","cost_rt","gr_schd_qty"],col)>=0) {
                    var mat_tp         = nvl(component.getVal("mat_tp"),"HAWA");
                    var init_price     = nvl(component.getVal("init_price"),0);
                    var sale_std_price = nvl(component.getVal("sale_std_price"),0);
                    var sale_price     = nvl(component.getVal("sale_price"),sale_std_price);
                    var std_sprice_rt  = sale_std_price==0?null:( 100*sale_std_price/init_price );
                    var schd_cost      = nvl(component.getVal("schd_cost"),0); 
                    var init_prch_rt   = nvl(component.getVal("init_prch_rt"),0); 
                    if(col=="schd_cost") {
                        if(mat_tp=="CSGN") init_prch_rt = sale_price==0?null:( 100*schd_cost/(sale_price/1.1) );
                        else               init_prch_rt = init_price==0?null:( 100*schd_cost/(init_price/1.1) );
                    } else {
                        if(mat_tp=="CSGN") schd_cost = ( (sale_price/1.1)*init_prch_rt/100 );
                        else               schd_cost = ( (init_price/1.1)*init_prch_rt/100 );
                    } 
                    component.setVal("std_sprice_rt", std_sprice_rt );
                    component.setVal("schd_cost"    , schd_cost     );
                    component.setVal("init_prch_rt" , init_prch_rt  ); 
                }  
            }
        }
        //철러추가 
        else if(component==me.pageObj["colorinfo"]) {
            if(evt=="componentFunc") {
                if(row=="addRow") {
                    var sz_range_cd = component._componentCond.sz_range_cd.getVal();
                    if(!isNull(sz_range_cd)) {
                        var szcds = subset(subset(gds.comcd,"grpcd","SZ_RANGE"),"cd",sz_range_cd)[0];
                        for(var i=15; i > 0; i--) {
                            var szseq = "szcd_"+(i+"").zf(2);
                            if(!isNull(szcds[szseq])) {
                                component.addRow({sz_cd:szcds[szseq]});
                            }
                        }
                    } else {
                        component.addRow();
                    }
                    
                }
                if(row=="delRow") {
                    component.delRow();
                }
            }
            if(evt=="change" && col=="gr_schd_qty") {
                component.total("top");
            }
            if(evt=="paste") {
                component.total("top");
            }
        }
    } 
    //search:조회 
    me.fnSearch=function() {
        if( !me.pageObj["pageCond"].chkValid() ) return;
        me.mode = "NEW";
        var args = me.pageObj["pageCond"].exportData()[0];
        //console.log(args);
        var invar = JSON.stringify(args);
        gfnTx(appid+"."+pgmid,"search",{INVAR:invar},function(OUTVAR){
            console.log(OUTVAR);
            if(OUTVAR.rtnCd=="OK") {
                /*
                var list = [];
                for(var i=0; i < OUTVAR.list.length; i++) {
                    list.push( me.fnATTRNm(OUTVAR.list[i]) );
                }
                */
                me.pageObj["list"].importData(OUTVAR.list); 
                me.pageObj["list"].autoSizeAllColumns(true);
                me.pageObj["list"].total("top"); 
            } else {
                gfnAlert("조회오류",OUTVAR.rtnMsg);
            }
        }); 
    }
    //스타일마스터 상세조회 
    me.fnSearchMst = function(stcd) {
        me.mode = "UPDATE";
        var args = {stcd:stcd};
        //console.log(args);
        var invar = JSON.stringify(args);
        gfnTx(appid+"."+pgmid,"searchMst",{INVAR:invar},function(OUTVAR){
            console.log(OUTVAR);
            if(OUTVAR.rtnCd=="OK") {
                me.pageObj.mst.reset();
                me.pageObj["mst"].importData(OUTVAR.mst); 
                me.pageObj.colorinfo._componentCond.sz_range_cd.setVal(OUTVAR.mst[0].sz_range_cd);
                me.pageObj["colorinfo"].importData(OUTVAR.colorinfo);   
                me.pageObj["colorinfo"].autoSizeAllColumns(true);
            } else {
                gfnAlert("조회오류",OUTVAR.rtnMsg);
            }
        }); 
    }    
    
    //신규 스타일 등록
    me.fnNew=function() {
        me.mode = "NEW";
        me.pageObj.mst.reset();
        me.pageObj.mst.col["suprcd"].obj.select2({dropdownAutoWidth : true});
        me.pageObj.mst.col["brcd"].obj.select2({dropdownAutoWidth : true});
        me.pageObj.mst.col["itemcd"].obj.select2({dropdownAutoWidth : true});
        me.pageObj.colorinfo.reset(); 
    } 
    
    
    //save:저장 
    me.fnSave=function() {
        if( !me.pageObj["mst"].chkValid() ) return;
        if( !me.pageObj["colorinfo"].chkValid() ) return;
        var args = me.pageObj["mst"].exportData()[0];
        args.colorinfo = me.pageObj["colorinfo"].exportData();
        args.sz_range_cd = me.pageObj.colorinfo._componentCond.sz_range_cd.getVal();
        console.log(args);
        var invar = JSON.stringify(args);
        gfnTx(appid+"."+pgmid,"save",{INVAR:invar},function(OUTVAR){
            console.log(OUTVAR);
            if(OUTVAR.rtnCd=="OK") {
                gfnAlert("저장성공","스타일/컬러 정보를 저장하였습니다.");
                me.fnSearch();
                me.fnSearchMst( args.goods_cd );
            } else {
                gfnAlert("저장오류",OUTVAR.rtnMsg);
            }
        });
    }
    
    
    //
    me.fnUploadLF=function() {//LF사입리스트 업로드
        var uploadPop = $("<div id='uploadPop' class='framepage active'></div>");
        var uploadPopup = null;
        gfnLoad("fo_mdp","manageSTupload",uploadPop,function(){
            uploadPopup = gfnPopup("LF사입리스트 업로드",uploadPop,{width:"90vw", height:800});
        })
        
        function _fnUploadLF() {
            me.fnSearch();
        }

        gParam.fncallback = _fnUploadLF;  
    }
    
    me.fnUploadCSGN=function() {
         var uploadPop = $("<div id='uploadPop' class='framepage active'></div>");
        var uploadPopup = null;
        gfnLoad("fo_mdp","manageSTupload2",uploadPop,function(){
            uploadPopup = gfnPopup("위탁상품 업로드",uploadPop,{width:"90vw", height:800});
        })
        
        function _fnUploadCSGN() {
            me.fnSearch();
        }

        gParam.fncallback = _fnUploadCSGN;  
    }
    
    me.fnUploadZD = function(){
        var uploadPop = $("<div id='uploadPop' class='framepage active'></div>");
        var uploadPopup = null;
        gfnLoad("fo_mdp","manageSTupload3",uploadPop,function(){
            uploadPopup = gfnPopup("기획생산(제덴) / 사입 업로드",uploadPop,{width:"90vw", height:800});
        })
        
        function _fnUploadZD() {
            me.fnSearch();
        }

        gParam.fncallback = _fnUploadZD;  
    }

    me.fnUploadTRI = function(){
        var uploadPop = $("<div id='uploadPop' class='framepage active'></div>");
        var uploadPopup = null;
        gfnLoad("fo_mdp","manageSTupload4",uploadPop,function(){
            uploadPopup = gfnPopup("트라이본즈 스타일 업로드",uploadPop,{width:"90vw", height:800});
        })
        
        function _fnUploadTRI() {
            me.fnSearch();
        }

        gParam.fncallback = _fnUploadTRI;  
    }
    
    me.fnUploadCVK = function(){
        var uploadPop = $("<div id='uploadPop' class='framepage active'></div>");
        var uploadPopup = null;
        gfnLoad("fo_mdp","manageSTupload5",uploadPop,function(){
            uploadPopup = gfnPopup("캘빈클라인 스타일 업로드",uploadPop,{width:"90vw", height:800});
        })
        
        function _fnUploadCVK() {
            me.fnSearch();
        }

        gParam.fncallback = _fnUploadCVK;  
    }


/*-- SCRIPT autogen ---------------------------------------------------- */        
if(typeof(me.fnInit)=='function') me.fnInit();
});

</script>